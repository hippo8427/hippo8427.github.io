---
title: Weekly Paper 09  
date: 2025-08-16  
layout: single  
---

<br>

## 📌 REST에서 무상태성(Stateless)이란?

### 🔍 개념 정리

**무상태성(Stateless)이란?**  
- REST 아키텍처의 핵심 원칙 중 하나  
- 클라이언트의 각 요청은 **서버가 이전 요청 상태를 저장하지 않고 독립적으로 처리**  
- 모든 요청은 필요한 모든 정보를 포함해야 하며, **서버는 클라이언트의 상태를 보존하지 않음**

<br>

#### 🔍 무상태성의 예시

- 로그인 상태를 서버가 유지하지 않음 → 매 요청 시 인증 정보(JWT 등)를 포함해야 함
- 요청이 실패한 경우, 동일 요청을 재전송해도 일관된 결과를 보장

<br>

#### 🔍 왜 무상태성이 중요한가?

- **확장성 향상**: 서버 간 세션 공유 불필요 → 수평 확장이 쉬움  
- **단순한 서버 구조**: 상태 관리 부담이 없음 → 유지 보수 용이  
- **안정성 및 예측 가능성**: 각 요청이 독립적 → 디버깅과 테스트가 쉬움

<br>

<details> 
<summary><strong style="font-size: 1.2em;">🔸 무상태성 설계 팁</strong></summary> 
<div style="background: #f0f0f0; padding: 1em;" markdown="1">

- 클라이언트 요청에 필요한 모든 정보를 포함 (ex: 인증 토큰, 페이지 번호 등)
- 서버는 세션 저장 대신 토큰 기반 인증 방식 권장
- 무상태성을 유지하기 위해 서버 캐시나 클라이언트 캐시 전략도 병행 고려
- 단, 현실에서는 완전 무상태 구현이 어려울 수 있어 **상태 최소화 전략**으로 접근
- 서버 간 로드 밸런싱을 고려한다면 **Sticky Session을 피하고 Stateless 구조 채택**

</div>
</details>

---

<br><br>

## 📌 CORS란 무엇인가?

### 🔍 개념 정리

**CORS(Cross-Origin Resource Sharing)**  
- **브라우저 보안 정책(Same-Origin Policy)**을 우회하기 위한 메커니즘  
- 서로 다른 출처(origin) 간의 리소스 요청을 **제한하거나 허용**하기 위해 사용됨  
- 서버가 **허용된 출처**만 리소스 접근을 허용하도록 응답 헤더로 설정

> 예: `http://frontend.com`에서 `http://api.backend.com`으로 API 요청 시 CORS 적용 필요

<br>

#### 🔍 CORS 요청 흐름

1. 클라이언트가 교차 출처 요청 (다른 도메인, 포트, 프로토콜)
2. 브라우저가 먼저 **Preflight Request(OPTIONS)** 전송
3. 서버가 `Access-Control-Allow-*` 헤더로 응답
4. 허용된 경우에만 실제 요청(FETCH 등) 진행

<br>

| 요청 유형 | 설명 |
|-----------|------|
| **Simple Request** | GET, POST 등 기본 요청 (Content-Type 제한 있음) |
| **Preflight Request** | 브라우저가 OPTIONS 요청을 먼저 보내 허용 여부 확인 |
| **Credential Request** | 쿠키, 인증 정보 포함 요청 (withCredentials 필요) |

<br>

<details> 
<summary><strong style="font-size: 1.2em;">🔸 CORS 설정 팁</strong></summary> 
<div style="background: #f0f0f0; padding: 1em;" markdown="1">

- 서버 응답 헤더에 다음을 명시:
    - `Access-Control-Allow-Origin: 도메인 또는 *`
    - `Access-Control-Allow-Methods: GET, POST, ...`
    - `Access-Control-Allow-Headers: Authorization, Content-Type 등`
    - `Access-Control-Allow-Credentials: true` (쿠키 인증 시 필요)
- **withCredentials: true** 설정 시, `Access-Control-Allow-Origin`은 `*` 사용 불가
- 브라우저의 보안 정책 우회를 위한 설정이므로 최소한의 허용으로 제어
- 프론트/백엔드 분리 프로젝트에서는 필수 설정

</div>
</details>

---
